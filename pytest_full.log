============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.1, pluggy-1.6.0 -- C:\Python311\python.exe
cachedir: .pytest_cache
PySide6 6.9.1 -- Qt runtime 6.9.1 -- Qt compiled 6.9.1
rootdir: F:\Programming\Apps\ShittyRandomPhotoScreenSaver
plugins: qt-4.5.0
collecting ... collected 359 items

tests/test_animation.py::test_animation_manager_initialization PASSED    [  0%]
tests/test_animation.py::test_property_animation PASSED                  [  0%]
tests/test_animation.py::test_custom_animation PASSED                    [  0%]
tests/test_animation.py::test_animation_pause_resume PASSED              [  1%]
tests/test_animation.py::test_animation_cancel PASSED                    [  1%]
tests/test_animation.py::test_easing_curves PASSED                       [  1%]
tests/test_animation.py::test_animation_with_delay PASSED                [  1%]
tests/test_animation.py::test_multiple_animations PASSED                 [  2%]
tests/test_animation.py::test_cancel_all_animations PASSED               [  2%]
tests/test_animation.py::test_animation_manager_auto_stop PASSED         [  2%]
tests/test_block_puzzle_flip.py::test_block_puzzle_creation PASSED       [  3%]
tests/test_block_puzzle_flip.py::test_block_puzzle_runs_and_labels FAILED [  3%]
tests/test_block_puzzle_flip.py::test_block_puzzle_cleanup PASSED        [  3%]
tests/test_block_puzzle_flip.py::test_block_puzzle_invalid_pixmap PASSED [  3%]
tests/test_block_puzzle_flip.py::test_block_puzzle_set_flip_duration PASSED [  4%]
tests/test_block_puzzle_flip.py::test_block_puzzle_randomization PASSED  [  4%]
tests/test_block_puzzle_flip.py::test_block_puzzle_small_widget PASSED   [  4%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_bug1_clock_widget_created PASSED [  5%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_bug2_set_text_color_method_exists PASSED [  5%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_bug3_color_array_to_qcolor_conversion PASSED [  5%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_bug4_z_order_clock_on_top PASSED [  5%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_bug5_settings_retrieval_no_crash PASSED [  6%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_bug6_boolean_type_conversion PASSED [  6%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_bug7_position_string_to_enum PASSED [  6%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_bug8_format_string_to_enum PASSED [  6%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_bug9_missing_raise_call PASSED [  7%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_clock_widget_visibility_after_setup PASSED [  7%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_clock_widget_size_and_position PASSED [  7%]
tests/test_clock_integration_regression.py::TestClockIntegrationRegression::test_clock_settings_complete_integration PASSED [  8%]
tests/test_clock_widget.py::test_time_format_enum PASSED                 [  8%]
tests/test_clock_widget.py::test_clock_position_enum PASSED              [  8%]
tests/test_clock_widget.py::test_clock_creation PASSED                   [  8%]
tests/test_clock_widget.py::test_clock_start_stop PASSED                 [  9%]
tests/test_clock_widget.py::test_clock_signals PASSED                    [  9%]
tests/test_clock_widget.py::test_clock_12h_format PASSED                 [  9%]
tests/test_clock_widget.py::test_clock_24h_format PASSED                 [ 10%]
tests/test_clock_widget.py::test_clock_without_seconds PASSED            [ 10%]
tests/test_clock_widget.py::test_clock_with_seconds PASSED               [ 10%]
tests/test_clock_widget.py::test_clock_set_time_format PASSED            [ 10%]
tests/test_clock_widget.py::test_clock_set_show_seconds PASSED           [ 11%]
tests/test_clock_widget.py::test_clock_all_positions PASSED              [ 11%]
tests/test_clock_widget.py::test_clock_set_position PASSED               [ 11%]
tests/test_clock_widget.py::test_clock_set_font_size PASSED              [ 11%]
tests/test_clock_widget.py::test_clock_set_text_color PASSED             [ 12%]
tests/test_clock_widget.py::test_clock_set_margin PASSED                 [ 12%]
tests/test_clock_widget.py::test_clock_cleanup PASSED                    [ 12%]
tests/test_clock_widget.py::test_clock_concurrent_start_prevention PASSED [ 13%]
tests/test_clock_widget.py::test_clock_updates_over_time PASSED          [ 13%]
tests/test_diffuse_transition.py::test_diffuse_creation PASSED           [ 13%]
tests/test_diffuse_transition.py::test_diffuse_start_no_old_image PASSED [ 13%]
tests/test_diffuse_transition.py::test_diffuse_start_with_images PASSED  [ 14%]
tests/test_diffuse_transition.py::test_diffuse_signals PASSED            [ 14%]
tests/test_diffuse_transition.py::test_diffuse_progress_range PASSED     [ 14%]
tests/test_diffuse_transition.py::test_diffuse_stop PASSED               [ 15%]
tests/test_diffuse_transition.py::test_diffuse_grid_creation PASSED      [ 15%]
tests/test_diffuse_transition.py::test_diffuse_cleanup PASSED            [ 15%]
tests/test_diffuse_transition.py::test_diffuse_invalid_pixmap PASSED     [ 15%]
tests/test_diffuse_transition.py::test_diffuse_already_running PASSED    [ 16%]
tests/test_diffuse_transition.py::test_diffuse_block_size PASSED         [ 16%]
tests/test_diffuse_transition.py::test_diffuse_small_widget PASSED       [ 16%]
tests/test_diffuse_transition.py::test_diffuse_randomization PASSED      [ 16%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_creation PASSED [ 17%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_loads_settings PASSED [ 17%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_saves_monitor_selection PASSED [ 17%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_saves_display_mode PASSED [ 18%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_saves_timing PASSED [ 18%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_boolean_conversion PASSED [ 18%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_lanczos_setting PASSED [ 18%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_sharpen_setting PASSED [ 19%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_same_image_monitors PASSED [ 19%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_all_settings_persist PASSED [ 19%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_default_values PASSED [ 20%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_invalid_mode_handling PASSED [ 20%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_invalid_interval_handling PASSED [ 20%]
tests/test_display_tab.py::TestDisplayTab::test_display_tab_ui_elements_exist PASSED [ 20%]
tests/test_events.py::test_event_system_initialization PASSED            [ 21%]
tests/test_events.py::test_subscribe_and_publish PASSED                  [ 21%]
tests/test_events.py::test_unsubscribe PASSED                            [ 21%]
tests/test_events.py::test_priority_ordering PASSED                      [ 22%]
tests/test_events.py::test_event_filter PASSED                           [ 22%]
tests/test_events.py::test_event_history PASSED                          [ 22%]
tests/test_flicker_fix_integration.py::TestQtAllocationLimit::test_allocation_limit_increased PASSED [ 22%]
tests/test_flicker_fix_integration.py::TestQtAllocationLimit::test_large_image_can_be_allocated PASSED [ 23%]
tests/test_flicker_fix_integration.py::TestOverlayReadyFlow::test_overlay_lifecycle SKIPPED [ 23%]
tests/test_flicker_fix_integration.py::TestOverlayReadyFlow::test_paint_event_respects_ready_state PASSED [ 23%]
tests/test_flicker_fix_integration.py::TestTransitionTelemetryFlow::test_transition_tracks_timing PASSED [ 23%]
tests/test_flicker_fix_integration.py::TestMultiDisplaySyncFlow::test_sync_queue_lifecycle PASSED [ 24%]
tests/test_flicker_fix_integration.py::TestMultiDisplaySyncFlow::test_sync_timeout_handling PASSED [ 24%]
tests/test_flicker_fix_integration.py::TestEndToEndFlickerFix::test_gl_overlay_eliminates_race_condition SKIPPED [ 24%]
tests/test_flicker_fix_integration.py::TestEndToEndFlickerFix::test_pre_warming_reduces_init_time PASSED [ 25%]
tests/test_flicker_fix_integration.py::TestRegressionPrevention::test_no_process_events_in_transitions PASSED [ 25%]
tests/test_flicker_fix_integration.py::TestRegressionPrevention::test_showfullscreen_not_deferred PASSED [ 25%]
tests/test_image_processor.py::test_fill_mode_wider_image PASSED         [ 25%]
tests/test_image_processor.py::test_fill_mode_taller_image PASSED        [ 26%]
tests/test_image_processor.py::test_fill_mode_small_image PASSED         [ 26%]
tests/test_image_processor.py::test_fit_mode_landscape PASSED            [ 26%]
tests/test_image_processor.py::test_fit_mode_portrait PASSED             [ 27%]
tests/test_image_processor.py::test_shrink_mode_large_image PASSED       [ 27%]
tests/test_image_processor.py::test_shrink_mode_small_image PASSED       [ 27%]
tests/test_image_processor.py::test_null_image_fallback PASSED           [ 27%]
tests/test_image_processor.py::test_square_image_fill PASSED             [ 28%]
tests/test_image_processor.py::test_aspect_ratio_preservation_fit PASSED [ 28%]
tests/test_image_processor.py::test_calculate_scale_factors_fill PASSED  [ 28%]
tests/test_image_processor.py::test_calculate_scale_factors_fit PASSED   [ 28%]
tests/test_image_processor.py::test_calculate_scale_factors_shrink_no_scaling PASSED [ 29%]
tests/test_image_processor.py::test_calculate_scale_factors_shrink_with_scaling PASSED [ 29%]
tests/test_image_processor.py::test_get_crop_rect PASSED                 [ 29%]
tests/test_image_processor.py::test_display_mode_from_string PASSED      [ 30%]
tests/test_image_processor.py::test_display_mode_from_string_invalid PASSED [ 30%]
tests/test_image_processor.py::test_display_mode_str PASSED              [ 30%]
tests/test_image_queue.py::test_image_queue_initialization PASSED        [ 30%]
tests/test_image_queue.py::test_add_images_no_shuffle PASSED             [ 31%]
tests/test_image_queue.py::test_add_images_with_shuffle PASSED           [ 31%]
tests/test_image_queue.py::test_next_image PASSED                        [ 31%]
tests/test_image_queue.py::test_next_multiple_images PASSED              [ 32%]
tests/test_image_queue.py::test_queue_wraparound PASSED                  [ 32%]
tests/test_image_queue.py::test_current_image PASSED                     [ 32%]
tests/test_image_queue.py::test_peek_next_image PASSED                   [ 32%]
tests/test_image_queue.py::test_history_tracking FAILED                  [ 33%]
tests/test_image_queue.py::test_history_max_size FAILED                  [ 33%]
tests/test_image_queue.py::test_is_in_recent_history FAILED              [ 33%]
tests/test_image_queue.py::test_shuffle_method PASSED                    [ 33%]
tests/test_image_queue.py::test_set_shuffle_enabled PASSED               [ 34%]
tests/test_image_queue.py::test_clear_queue PASSED                       [ 34%]
tests/test_image_queue.py::test_set_images_replaces_all PASSED           [ 34%]
tests/test_image_queue.py::test_remove_image PASSED                      [ 35%]
tests/test_image_queue.py::test_remove_nonexistent_image PASSED          [ 35%]
tests/test_image_queue.py::test_get_stats PASSED                         [ 35%]
tests/test_image_queue.py::test_empty_queue_behavior PASSED              [ 35%]
tests/test_image_queue.py::test_queue_len_and_bool PASSED                [ 36%]
tests/test_image_queue.py::test_queue_repr PASSED                        [ 36%]
tests/test_image_queue.py::test_previous_image PASSED                    [ 36%]
tests/test_image_queue.py::test_previous_with_no_history PASSED          [ 37%]
tests/test_image_queue.py::test_wraparound_preserves_shuffle PASSED      [ 37%]
tests/test_integration.py::test_engine_creation PASSED                   [ 37%]
tests/test_integration.py::test_engine_initialization PASSED             [ 37%]
tests/test_integration.py::test_engine_core_systems PASSED               [ 38%]
tests/test_integration.py::test_engine_image_queue_initialization PASSED [ 38%]
tests/test_integration.py::test_engine_display_initialization PASSED     [ 38%]
tests/test_integration.py::test_engine_start_stop PASSED                 [ 38%]
tests/test_integration.py::test_engine_signals PASSED                    [ 39%]
tests/test_integration.py::test_engine_rotation_timer FAILED             [ 39%]
tests/test_integration.py::test_engine_get_stats PASSED                  [ 39%]
tests/test_integration.py::test_engine_cleanup PASSED                    [ 40%]
tests/test_integration.py::test_engine_without_initialization PASSED     [ 40%]
tests/test_integration.py::test_engine_default_rss_sources PASSED        [ 40%]
tests/test_integration.py::test_engine_settings_integration PASSED       [ 40%]
tests/test_integration.py::test_engine_multiple_start_calls PASSED       [ 41%]
tests/test_integration.py::test_engine_stop_without_start PASSED         [ 41%]
tests/test_integration_settings.py::test_sources_tab_folder_persistence PASSED [ 41%]
tests/test_integration_settings.py::test_sources_tab_rss_persistence PASSED [ 42%]
tests/test_integration_settings.py::test_settings_dialog_full_workflow PASSED [ 42%]
tests/test_integration_settings.py::test_nested_dict_does_not_work PASSED [ 42%]
tests/test_integration_settings.py::test_settings_load_on_startup PASSED [ 42%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_lanczos_downscaling PASSED [ 43%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_bug10_no_image_tripling PASSED [ 43%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_lanczos_with_alpha_channel PASSED [ 43%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_lanczos_with_sharpening PASSED [ 44%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_fallback_when_lanczos_disabled PASSED [ 44%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_fallback_when_pil_unavailable SKIPPED [ 44%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_lanczos_fill_mode PASSED [ 44%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_lanczos_fit_mode PASSED [ 45%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_lanczos_shrink_mode_downscale PASSED [ 45%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_lanczos_shrink_mode_no_upscale PASSED [ 45%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_lanczos_aspect_ratio_preserved PASSED [ 45%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_null_image_handling PASSED [ 46%]
tests/test_lanczos_scaling.py::TestLanczosScaling::test_aggressive_downscale PASSED [ 46%]
tests/test_multidisplay_sync.py::TestDisplayManagerSync::test_sync_disabled_by_default PASSED [ 46%]
tests/test_multidisplay_sync.py::TestDisplayManagerSync::test_enable_sync_creates_queue PASSED [ 47%]
tests/test_multidisplay_sync.py::TestDisplayManagerSync::test_disable_sync_clears_queue PASSED [ 47%]
tests/test_multidisplay_sync.py::TestDisplayManagerSync::test_sync_not_enabled_for_single_display PASSED [ 47%]
tests/test_multidisplay_sync.py::TestSPSCQueueSync::test_ready_signal_queuing PASSED [ 47%]
tests/test_multidisplay_sync.py::TestSPSCQueueSync::test_wait_for_all_displays_success PASSED [ 48%]
tests/test_multidisplay_sync.py::TestSPSCQueueSync::test_wait_for_all_displays_timeout PASSED [ 48%]
tests/test_multidisplay_sync.py::TestSPSCQueueSync::test_wait_returns_true_when_sync_disabled PASSED [ 48%]
tests/test_multidisplay_sync.py::TestSPSCQueueSync::test_wait_returns_true_for_single_display PASSED [ 49%]
tests/test_multidisplay_sync.py::TestSynchronizedTransition::test_show_image_synchronized_falls_back_when_disabled PASSED [ 49%]
tests/test_multidisplay_sync.py::TestSynchronizedTransition::test_show_image_synchronized_clears_queue PASSED [ 49%]
tests/test_multidisplay_sync.py::TestQueueOverflow::test_queue_rejects_when_full PASSED [ 49%]
tests/test_multidisplay_sync.py::TestQueueOverflow::test_display_manager_logs_queue_full PASSED [ 50%]
tests/test_multidisplay_sync.py::TestConcurrentReadySignals::test_no_duplicate_ready_signals PASSED [ 50%]
tests/test_multidisplay_sync.py::TestPerformanceMetrics::test_sync_overhead_minimal PASSED [ 50%]
tests/test_overlay_ready_state.py::TestGLCrossfadeOverlayReady::test_overlay_not_ready_before_init PASSED [ 50%]
tests/test_overlay_ready_state.py::TestGLCrossfadeOverlayReady::test_overlay_ready_after_init_and_paint SKIPPED [ 51%]
tests/test_overlay_ready_state.py::TestGLCrossfadeOverlayReady::test_overlay_ready_state_thread_safe PASSED [ 51%]
tests/test_overlay_ready_state.py::TestGLCrossfadeOverlayReady::test_overlay_reset_on_set_images PASSED [ 51%]
tests/test_overlay_ready_state.py::TestSWCrossfadeOverlayReady::test_sw_overlay_not_ready_before_paint PASSED [ 52%]
tests/test_overlay_ready_state.py::TestSWCrossfadeOverlayReady::test_sw_overlay_ready_after_paint PASSED [ 52%]
tests/test_overlay_ready_state.py::TestOverlayManagerReady::test_any_overlay_ready_returns_false_when_none_visible PASSED [ 52%]
tests/test_overlay_ready_state.py::TestOverlayManagerReady::test_any_overlay_ready_returns_true_when_gl_ready SKIPPED [ 52%]
tests/test_overlay_ready_state.py::TestOverlayManagerReady::test_any_overlay_ready_returns_false_when_visible_but_not_ready PASSED [ 53%]
tests/test_overlay_ready_state.py::TestAllGLOverlaysReadyState::test_gl_overlay_has_ready_method[_GLFadeWidget-extra_args0] PASSED [ 53%]
tests/test_overlay_ready_state.py::TestAllGLOverlaysReadyState::test_gl_overlay_has_ready_method[_GLSlideWidget-extra_args1] PASSED [ 53%]
tests/test_overlay_ready_state.py::TestAllGLOverlaysReadyState::test_gl_overlay_has_ready_method[_GLWipeWidget-extra_args2] PASSED [ 54%]
tests/test_overlay_ready_state.py::TestAllGLOverlaysReadyState::test_gl_diffuse_overlay_ready PASSED [ 54%]
tests/test_overlay_ready_state.py::TestAllGLOverlaysReadyState::test_gl_block_overlay_ready PASSED [ 54%]
tests/test_overlay_ready_state.py::TestDisplayWidgetPaintEvent::test_paint_event_skips_when_overlay_ready PASSED [ 54%]
tests/test_pan_scan_animator.py::test_pan_direction_enum PASSED          [ 55%]
tests/test_pan_scan_animator.py::test_animator_creation PASSED           [ 55%]
tests/test_pan_scan_animator.py::test_animator_start PASSED              [ 55%]
tests/test_pan_scan_animator.py::test_animator_signals PASSED            [ 55%]
tests/test_pan_scan_animator.py::test_animator_stop PASSED               [ 56%]
tests/test_pan_scan_animator.py::test_animator_all_directions PASSED     [ 56%]
tests/test_pan_scan_animator.py::test_animator_random_direction PASSED   [ 56%]
tests/test_pan_scan_animator.py::test_animator_viewport_rectangles PASSED [ 57%]
tests/test_pan_scan_animator.py::test_animator_set_zoom_range PASSED     [ 57%]
tests/test_pan_scan_animator.py::test_animator_set_duration PASSED       [ 57%]
tests/test_pan_scan_animator.py::test_animator_set_fps PASSED            [ 57%]
tests/test_pan_scan_animator.py::test_animator_progress_values PASSED    [ 58%]
tests/test_pan_scan_animator.py::test_animator_concurrent_prevention PASSED [ 58%]
tests/test_pan_scan_animator.py::test_ease_in_out_cubic PASSED           [ 58%]
tests/test_pan_scan_animator.py::test_animator_small_image PASSED        [ 59%]
tests/test_pan_scan_animator.py::test_animator_multiple_runs PASSED      [ 59%]
tests/test_pan_scan_integration.py::test_pan_scan_stopped_before_transition PASSED [ 59%]
tests/test_pan_scan_integration.py::test_diffuse_with_pan_scan FAILED    [ 59%]
tests/test_pan_scan_integration.py::test_block_puzzle_with_pan_scan PASSED [ 60%]
tests/test_pan_scan_integration.py::test_wipe_with_pan_scan FAILED       [ 60%]
tests/test_pan_scan_integration.py::test_crossfade_duration PASSED       [ 60%]
tests/test_pan_scan_integration.py::test_pan_scan_cleanup_between_images FAILED [ 61%]
tests/test_pan_scan_integration.py::test_all_transitions_with_pan_scan FAILED [ 61%]
tests/test_resources.py::test_resource_manager_initialization PASSED     [ 61%]
tests/test_resources.py::test_register_resource PASSED                   [ 61%]
tests/test_resources.py::test_unregister_resource PASSED                 [ 62%]
tests/test_resources.py::test_register_temp_file PASSED                  [ 62%]
tests/test_resources.py::test_get_all_resources PASSED                   [ 62%]
tests/test_resources.py::test_get_stats PASSED                           [ 62%]
tests/test_s_hotkey_workflow.py::test_s_hotkey_opens_settings_without_crash PASSED [ 63%]
tests/test_s_hotkey_workflow.py::test_display_initialized_flag_lifecycle PASSED [ 63%]
tests/test_s_hotkey_workflow.py::test_engine_has_required_attributes PASSED [ 63%]
tests/test_s_hotkey_workflow.py::test_settings_requested_handler_doesnt_crash_on_stop PASSED [ 64%]
tests/test_s_hotkey_workflow.py::test_settings_dialog_import_exists PASSED [ 64%]
tests/test_settings.py::test_settings_manager_initialization PASSED      [ 64%]
tests/test_settings.py::test_get_set_setting PASSED                      [ 64%]
tests/test_settings.py::test_default_values PASSED                       [ 65%]
tests/test_settings.py::test_on_changed_handler PASSED                   [ 65%]
tests/test_settings.py::test_reset_to_defaults PASSED                    [ 65%]
tests/test_settings.py::test_get_all_keys PASSED                         [ 66%]
tests/test_settings_dialog.py::test_custom_title_bar_creation PASSED     [ 66%]
tests/test_settings_dialog.py::test_custom_title_bar_signals PASSED      [ 66%]
tests/test_settings_dialog.py::test_tab_button_creation PASSED           [ 66%]
tests/test_settings_dialog.py::test_settings_dialog_creation FAILED      [ 67%]
tests/test_settings_dialog.py::test_settings_dialog_has_title_bar PASSED [ 67%]
tests/test_settings_dialog.py::test_settings_dialog_has_tabs PASSED      [ 67%]
tests/test_settings_dialog.py::test_settings_dialog_has_content_stack PASSED [ 67%]
tests/test_settings_dialog.py::test_settings_dialog_default_tab PASSED   [ 68%]
tests/test_settings_dialog.py::test_settings_dialog_tab_switching PASSED [ 68%]
tests/test_settings_dialog.py::test_settings_dialog_has_size_grip PASSED [ 68%]
tests/test_settings_dialog.py::test_settings_dialog_toggle_maximize PASSED [ 69%]
tests/test_settings_dialog.py::test_settings_dialog_has_drop_shadow PASSED [ 69%]
tests/test_settings_dialog.py::test_settings_dialog_theme_loaded PASSED  [ 69%]
tests/test_settings_dialog.py::test_settings_dialog_tab_button_clicks PASSED [ 69%]
tests/test_slide_transition.py::test_slide_direction_enum PASSED         [ 70%]
tests/test_slide_transition.py::test_slide_creation PASSED               [ 70%]
tests/test_slide_transition.py::test_slide_all_directions PASSED         [ 70%]
tests/test_slide_transition.py::test_slide_start_no_old_image PASSED     [ 71%]
tests/test_slide_transition.py::test_slide_signals PASSED                [ 71%]
tests/test_slide_transition.py::test_slide_progress_range PASSED         [ 71%]
tests/test_slide_transition.py::test_slide_stop PASSED                   [ 71%]
tests/test_slide_transition.py::test_slide_cleanup FAILED                [ 72%]
tests/test_slide_transition.py::test_slide_invalid_pixmap PASSED         [ 72%]
tests/test_slide_transition.py::test_slide_already_running PASSED        [ 72%]
tests/test_slide_transition.py::test_slide_set_direction PASSED          [ 72%]
tests/test_slide_transition.py::test_slide_easing_curves PASSED          [ 73%]
tests/test_slide_transition.py::test_slide_position_calculation PASSED   [ 73%]
tests/test_threading.py::test_thread_manager_initialization PASSED       [ 73%]
tests/test_threading.py::test_submit_io_task PASSED                      [ 74%]
tests/test_threading.py::test_submit_compute_task PASSED                 [ 74%]
tests/test_threading.py::test_get_pool_stats PASSED                      [ 74%]
tests/test_threading.py::test_thread_manager_shutdown PASSED             [ 74%]
tests/test_timezone_support.py::TestTimezoneUtils::test_get_local_timezone PASSED [ 75%]
tests/test_timezone_support.py::TestTimezoneUtils::test_get_common_timezones PASSED [ 75%]
tests/test_timezone_support.py::TestTimezoneUtils::test_get_all_pytz_timezones PASSED [ 75%]
tests/test_timezone_support.py::TestTimezoneUtils::test_validate_timezone_local PASSED [ 76%]
tests/test_timezone_support.py::TestTimezoneUtils::test_validate_timezone_utc_offsets PASSED [ 76%]
tests/test_timezone_support.py::TestTimezoneUtils::test_validate_timezone_pytz PASSED [ 76%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_creation_default_timezone PASSED [ 76%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_creation_with_timezone PASSED [ 77%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_parse_utc_offset_positive PASSED [ 77%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_parse_utc_offset_negative PASSED [ 77%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_parse_utc_offset_with_minutes PASSED [ 77%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_parse_pytz_timezone PASSED [ 78%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_timezone_abbrev_local PASSED [ 78%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_timezone_abbrev_utc PASSED [ 78%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_timezone_abbrev_offset PASSED [ 79%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_set_timezone PASSED [ 79%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_set_show_timezone PASSED [ 79%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_time_update_with_timezone PASSED [ 79%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_local_vs_utc_time_difference PASSED [ 80%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_invalid_timezone_fallback PASSED [ 80%]
tests/test_timezone_support.py::TestClockWidgetTimezone::test_clock_timezone_display_formats PASSED [ 80%]
tests/test_timezone_support.py::TestTimezoneEdgeCases::test_timezone_negative_half_hour PASSED [ 81%]
tests/test_timezone_support.py::TestTimezoneEdgeCases::test_timezone_45_minute_offset PASSED [ 81%]
tests/test_timezone_support.py::TestTimezoneEdgeCases::test_timezone_extreme_positive PASSED [ 81%]
tests/test_timezone_support.py::TestTimezoneEdgeCases::test_timezone_extreme_negative PASSED [ 81%]
tests/test_timezone_support.py::TestTimezoneEdgeCases::test_empty_timezone_string PASSED [ 82%]
tests/test_timezone_support.py::TestTimezoneEdgeCases::test_case_insensitive_utc PASSED [ 82%]
tests/test_transition_integration.py::TestTransitionIntegration::test_crossfade_transition_runs PASSED [ 82%]
tests/test_transition_integration.py::TestTransitionIntegration::test_slide_transition_runs PASSED [ 83%]
tests/test_transition_integration.py::TestTransitionIntegration::test_diffuse_transition_runs PASSED [ 83%]
tests/test_transition_integration.py::TestTransitionIntegration::test_block_puzzle_flip_transition_runs PASSED [ 83%]
tests/test_transition_integration.py::TestTransitionIntegration::test_wipe_transition_runs PASSED [ 83%]
tests/test_transition_integration.py::TestTransitionIntegration::test_transition_cleanup_on_stop PASSED [ 84%]
tests/test_transition_integration.py::TestTransitionIntegration::test_transition_settings_respected PASSED [ 84%]
tests/test_transition_integration.py::TestTransitionIntegration::test_transition_fallback_on_error PASSED [ 84%]
tests/test_transition_integration.py::TestTransitionIntegration::test_random_slide_direction PASSED [ 84%]
tests/test_transition_telemetry.py::TestBaseTelemetry::test_transition_has_telemetry_fields PASSED [ 85%]
tests/test_transition_telemetry.py::TestBaseTelemetry::test_mark_start_sets_time PASSED [ 85%]
tests/test_transition_telemetry.py::TestBaseTelemetry::test_mark_end_sets_time PASSED [ 85%]
tests/test_transition_telemetry.py::TestBaseTelemetry::test_get_elapsed_ms_returns_none_without_start PASSED [ 86%]
tests/test_transition_telemetry.py::TestBaseTelemetry::test_get_elapsed_ms_returns_time_after_start PASSED [ 86%]
tests/test_transition_telemetry.py::TestTelemetryLogging::test_mark_start_logs_debug PASSED [ 86%]
tests/test_transition_telemetry.py::TestTelemetryLogging::test_mark_end_logs_performance PASSED [ 86%]
tests/test_transition_telemetry.py::TestTelemetryLogging::test_mark_end_warns_on_timing_drift PASSED [ 87%]
tests/test_transition_telemetry.py::TestGLTransitionTelemetry::test_gl_crossfade_calls_mark_start PASSED [ 87%]
tests/test_transition_telemetry.py::TestGLTransitionTelemetry::test_gl_crossfade_calls_mark_end_on_complete PASSED [ 87%]
tests/test_transition_telemetry.py::TestSWTransitionTelemetry::test_sw_crossfade_has_telemetry PASSED [ 88%]
tests/test_transition_telemetry.py::TestPerformanceMetrics::test_elapsed_time_accuracy PASSED [ 88%]
tests/test_transition_telemetry.py::TestPerformanceMetrics::test_delta_calculation PASSED [ 88%]
tests/test_transition_telemetry.py::TestTelemetryThreadSafety::test_elapsed_time_thread_safe PASSED [ 88%]
tests/test_transitions.py::test_transition_state_enum PASSED             [ 89%]
tests/test_transitions.py::test_crossfade_creation PASSED                [ 89%]
tests/test_transitions.py::test_crossfade_duration PASSED                [ 89%]
tests/test_transitions.py::test_crossfade_start_with_no_old_image PASSED [ 89%]
tests/test_transitions.py::test_crossfade_start_with_images PASSED       [ 90%]
tests/test_transitions.py::test_crossfade_signals PASSED                 [ 90%]
tests/test_transitions.py::test_crossfade_progress_range PASSED          [ 90%]
tests/test_transitions.py::test_crossfade_stop PASSED                    [ 91%]
tests/test_transitions.py::test_crossfade_cleanup PASSED                 [ 91%]
tests/test_transitions.py::test_crossfade_invalid_pixmap PASSED          [ 91%]
tests/test_transitions.py::test_crossfade_already_running PASSED         [ 91%]
tests/test_transitions.py::test_crossfade_easing_curves FAILED           [ 92%]
tests/test_transitions.py::test_crossfade_set_easing PASSED              [ 92%]
tests/test_transitions.py::test_crossfade_repr PASSED                    [ 92%]
tests/test_transitions.py::test_crossfade_state_transitions PASSED       [ 93%]
tests/test_transitions.py::test_crossfade_multiple_transitions PASSED    [ 93%]
tests/test_transitions_integration.py::test_crossfade_with_pan_and_scan PASSED [ 93%]
tests/test_transitions_integration.py::test_diffuse_with_pan_and_scan PASSED [ 93%]
tests/test_transitions_integration.py::test_pan_and_scan_no_zoom_after_transition PASSED [ 94%]
tests/test_weather_widget.py::test_weather_position_enum PASSED          [ 94%]
tests/test_weather_widget.py::test_weather_creation FAILED               [ 94%]
tests/test_weather_widget.py::test_weather_no_api_key FAILED             [ 94%]
tests/test_weather_widget.py::test_weather_stop FAILED                   [ 95%]
tests/test_weather_widget.py::test_weather_signals FAILED                [ 95%]
tests/test_weather_widget.py::test_weather_display_update FAILED         [ 95%]
tests/test_weather_widget.py::test_weather_cache FAILED                  [ 96%]
tests/test_weather_widget.py::test_weather_all_positions FAILED          [ 96%]
tests/test_weather_widget.py::test_weather_set_position FAILED           [ 96%]
tests/test_weather_widget.py::test_weather_set_api_key FAILED            [ 96%]
tests/test_weather_widget.py::test_weather_set_location FAILED           [ 97%]
tests/test_weather_widget.py::test_weather_set_font_size FAILED          [ 97%]
tests/test_weather_widget.py::test_weather_set_text_color FAILED         [ 97%]
tests/test_weather_widget.py::test_weather_cleanup FAILED                [ 98%]
tests/test_weather_widget.py::test_weather_error_handling FAILED         [ 98%]
tests/test_weather_widget.py::test_weather_error_with_cache FAILED       [ 98%]
tests/test_weather_widget.py::test_weather_fetcher_creation FAILED       [ 98%]
tests/test_weather_widget.py::test_weather_fetcher_success FAILED        [ 99%]
tests/test_weather_widget.py::test_weather_fetcher_error FAILED          [ 99%]
tests/test_weather_widget.py::test_weather_display_no_data FAILED        [ 99%]
tests/test_weather_widget.py::test_weather_concurrent_start_prevention FAILED [100%]

================================== FAILURES ===================================
______________________ test_block_puzzle_runs_and_labels ______________________
tests\test_block_puzzle_flip.py:58: in test_block_puzzle_runs_and_labels
    assert t._new_label.scaledContents() is False
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'PySide6.QtWidgets.QLabel' object has no attribute 'scaledContents'
____________________________ test_history_tracking ____________________________
tests\test_image_queue.py:163: in test_history_tracking
    assert Path(history[0]).as_posix() == "/test/image_0.jpg"
           ^^^^^^^^^^^^^^^^
C:\Python311\Lib\pathlib.py:871: in __new__
    self = cls._from_parts(args)
           ^^^^^^^^^^^^^^^^^^^^^
C:\Python311\Lib\pathlib.py:509: in _from_parts
    drv, root, parts = self._parse_args(args)
                       ^^^^^^^^^^^^^^^^^^^^^^
C:\Python311\Lib\pathlib.py:493: in _parse_args
    a = os.fspath(a)
        ^^^^^^^^^^^^
E   TypeError: expected str, bytes or os.PathLike object, not ImageMetadata
____________________________ test_history_max_size ____________________________
tests\test_image_queue.py:181: in test_history_max_size
    assert Path(history[0]).as_posix() == "/test/image_2.jpg"
           ^^^^^^^^^^^^^^^^
C:\Python311\Lib\pathlib.py:871: in __new__
    self = cls._from_parts(args)
           ^^^^^^^^^^^^^^^^^^^^^
C:\Python311\Lib\pathlib.py:509: in _from_parts
    drv, root, parts = self._parse_args(args)
                       ^^^^^^^^^^^^^^^^^^^^^^
C:\Python311\Lib\pathlib.py:493: in _parse_args
    a = os.fspath(a)
        ^^^^^^^^^^^^
E   TypeError: expected str, bytes or os.PathLike object, not ImageMetadata
__________________________ test_is_in_recent_history __________________________
tests\test_image_queue.py:201: in test_is_in_recent_history
    assert queue.is_in_recent_history(img0_path, lookback=5) is True
E   AssertionError: assert False is True
E    +  where False = is_in_recent_history('\\test\\image_0.jpg', lookback=5)
E    +    where is_in_recent_history = ImageQueue(total=10, remaining=7, shuffle=False, wraps=0).is_in_recent_history
_________________________ test_engine_rotation_timer __________________________
tests\test_integration.py:148: in test_engine_rotation_timer
    assert engine._rotation_timer is None
E   assert <PySide6.QtCore.QTimer(0x19429daa2f0) at 0x000001947E6DE8C0> is None
E    +  where <PySide6.QtCore.QTimer(0x19429daa2f0) at 0x000001947E6DE8C0> = <engine.screensaver_engine.ScreensaverEngine(0x19429da8ad0) at 0x000001947E6DE5C0>._rotation_timer
_________________________ test_diffuse_with_pan_scan __________________________
tests\test_pan_scan_integration.py:133: in test_diffuse_with_pan_scan
    assert display_widget._current_transition is None, \
E   AssertionError: Diffuse transition with Rectangle did not finish
E   assert GLDiffuseTransition(duration=4760ms, state=running) is None
E    +  where GLDiffuseTransition(duration=4760ms, state=running) = <rendering.display_widget.DisplayWidget(0x194948f2aa0) at 0x000001945C2FC540>._current_transition
___________________________ test_wipe_with_pan_scan ___________________________
tests\test_pan_scan_integration.py:187: in test_wipe_with_pan_scan
    assert display_widget._current_transition is None, \
E   AssertionError: Wipe transition did not finish
E   assert GLDiffuseTransition(duration=4760ms, state=running) is None
E    +  where GLDiffuseTransition(duration=4760ms, state=running) = <rendering.display_widget.DisplayWidget(0x194948f6100) at 0x000001947E6247C0>._current_transition
____________________ test_pan_scan_cleanup_between_images _____________________
tests\test_pan_scan_integration.py:218: in test_pan_scan_cleanup_between_images
    assert display_widget._image_label.isVisible(), \
E   AssertionError: Pan & scan label should be visible after transition completes
E   assert False
E    +  where False = <built-in method isVisible of PySide6.QtWidgets.QLabel object at 0x000001947E7ECC80>()
E    +    where <built-in method isVisible of PySide6.QtWidgets.QLabel object at 0x000001947E7ECC80> = <PySide6.QtWidgets.QLabel(0x194948fa4e0) at 0x000001947E7ECC80>.isVisible
E    +      where <PySide6.QtWidgets.QLabel(0x194948fa4e0) at 0x000001947E7ECC80> = <rendering.display_widget.DisplayWidget(0x194948fb320) at 0x000001947E7A3F40>._image_label
_____________________ test_all_transitions_with_pan_scan ______________________
tests\test_pan_scan_integration.py:256: in test_all_transitions_with_pan_scan
    assert display_widget._current_transition is None, \
E   AssertionError: Crossfade transition did not finish with pan & scan enabled
E   assert GLDiffuseTransition(duration=4760ms, state=running) is None
E    +  where GLDiffuseTransition(duration=4760ms, state=running) = <rendering.display_widget.DisplayWidget(0x194948fb1a0) at 0x000001942C0DF3C0>._current_transition
________________________ test_settings_dialog_creation ________________________
tests\test_settings_dialog.py:80: in test_settings_dialog_creation
    assert dialog.minimumSize().width() == 900
E   assert 800 == 900
E    +  where 800 = <built-in method width of PySide6.QtCore.QSize object at 0x000001947E5DE500>()
E    +    where <built-in method width of PySide6.QtCore.QSize object at 0x000001947E5DE500> = PySide6.QtCore.QSize(800, 500).width
E    +      where PySide6.QtCore.QSize(800, 500) = <built-in method minimumSize of SettingsDialog object at 0x0000019495419080>()
E    +        where <built-in method minimumSize of SettingsDialog object at 0x0000019495419080> = <ui.settings_dialog.SettingsDialog(0x1945bea63e0) at 0x0000019495419080>.minimumSize
_____________________________ test_slide_cleanup ______________________________
tests\test_slide_transition.py:136: in test_slide_cleanup
    assert transition._old_label is None
E   assert <PySide6.QtWidgets.QLabel(0x19429bd5de0) at 0x000001947E5DF680> is None
E    +  where <PySide6.QtWidgets.QLabel(0x19429bd5de0) at 0x000001947E5DF680> = SlideTransition(duration=100ms, state=cancelled)._old_label
________________________ test_crossfade_easing_curves _________________________
CALL ERROR: Exceptions caught in Qt event loop:
________________________________________________________________________________
Traceback (most recent call last):
  File "F:\Programming\Apps\ShittyRandomPhotoScreenSaver\rendering\display_widget.py", line 530, in <lambda>
    self._on_transition_finished(np, op, ip, pse))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\Programming\Apps\ShittyRandomPhotoScreenSaver\rendering\display_widget.py", line 660, in _on_transition_finished
    self.update()
RuntimeError: Internal C++ object (DisplayWidget) already deleted.
________________________________________________________________________________

---------------------------- Captured stderr call -----------------------------
Exceptions caught in Qt event loop:
________________________________________________________________________________
Traceback (most recent call last):
  File "F:\Programming\Apps\ShittyRandomPhotoScreenSaver\rendering\display_widget.py", line 530, in <lambda>
    self._on_transition_finished(np, op, ip, pse))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\Programming\Apps\ShittyRandomPhotoScreenSaver\rendering\display_widget.py", line 660, in _on_transition_finished
    self.update()
RuntimeError: Internal C++ object (DisplayWidget) already deleted.
________________________________________________________________________________
____________________________ test_weather_creation ____________________________
tests\test_weather_widget.py:55: in test_weather_creation
    weather = WeatherWidget(
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
---------------------------- Captured Qt messages -----------------------------
QtWarningMsg: QSettings: Failed to delete key "Software\Test\ScreensaverTest" (Illegal operation attempted on a registry key that has been marked for deletion.)
QtWarningMsg: QSettings: Failed to delete key "Software\Test\ScreensaverTest" (Illegal operation attempted on a registry key that has been marked for deletion.)
QtWarningMsg: QSettings: Failed to delete key "Software\Test\ScreensaverTest" (Illegal operation attempted on a registry key that has been marked for deletion.)
QtWarningMsg: QSettings: Failed to delete key "Software\Test\ScreensaverTest" (Illegal operation attempted on a registry key that has been marked for deletion.)
QtWarningMsg: QSettings: Failed to delete key "Software\Test\ScreensaverTest" (Illegal operation attempted on a registry key that has been marked for deletion.)
QtWarningMsg: QSettings: Failed to delete key "Software\Test\ScreensaverTest" (Illegal operation attempted on a registry key that has been marked for deletion.)
___________________________ test_weather_no_api_key ___________________________
tests\test_weather_widget.py:71: in test_weather_no_api_key
    weather = WeatherWidget(parent=parent_widget, api_key="")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
______________________________ test_weather_stop ______________________________
tests\test_weather_widget.py:85: in test_weather_stop
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
____________________________ test_weather_signals _____________________________
tests\test_weather_widget.py:98: in test_weather_signals
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
_________________________ test_weather_display_update _________________________
tests\test_weather_widget.py:112: in test_weather_display_update
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
_____________________________ test_weather_cache ______________________________
tests\test_weather_widget.py:125: in test_weather_cache
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
_________________________ test_weather_all_positions __________________________
tests\test_weather_widget.py:148: in test_weather_all_positions
    weather = WeatherWidget(
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
__________________________ test_weather_set_position __________________________
tests\test_weather_widget.py:159: in test_weather_set_position
    weather = WeatherWidget(
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
__________________________ test_weather_set_api_key ___________________________
tests\test_weather_widget.py:179: in test_weather_set_api_key
    weather = WeatherWidget(parent=parent_widget, api_key="old_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
__________________________ test_weather_set_location __________________________
tests\test_weather_widget.py:190: in test_weather_set_location
    weather = WeatherWidget(parent=parent_widget, api_key="test_key", location="London")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
_________________________ test_weather_set_font_size __________________________
tests\test_weather_widget.py:206: in test_weather_set_font_size
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
_________________________ test_weather_set_text_color _________________________
tests\test_weather_widget.py:218: in test_weather_set_text_color
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
____________________________ test_weather_cleanup _____________________________
tests\test_weather_widget.py:228: in test_weather_cleanup
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
_________________________ test_weather_error_handling _________________________
tests\test_weather_widget.py:241: in test_weather_error_handling
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
________________________ test_weather_error_with_cache ________________________
tests\test_weather_widget.py:255: in test_weather_error_with_cache
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
________________________ test_weather_fetcher_creation ________________________
tests\test_weather_widget.py:270: in test_weather_fetcher_creation
    fetcher = WeatherFetcher(api_key="test_key", location="London")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherFetcher.__init__() got an unexpected keyword argument 'api_key'
________________________ test_weather_fetcher_success _________________________
C:\Python311\Lib\site-packages\pytestqt\plugin.py:187: in pytest_runtest_call
    result = yield
             ^^^^^
C:\Python311\Lib\unittest\mock.py:1375: in patched
    with self.decoration_helper(patched,
C:\Python311\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Python311\Lib\unittest\mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python311\Lib\contextlib.py:517: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Python311\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
C:\Python311\Lib\pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'widgets.weather_widget' has no attribute 'requests'
_________________________ test_weather_fetcher_error __________________________
C:\Python311\Lib\site-packages\pytestqt\plugin.py:187: in pytest_runtest_call
    result = yield
             ^^^^^
C:\Python311\Lib\unittest\mock.py:1375: in patched
    with self.decoration_helper(patched,
C:\Python311\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Python311\Lib\unittest\mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python311\Lib\contextlib.py:517: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Python311\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
C:\Python311\Lib\pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'widgets.weather_widget' has no attribute 'requests'
________________________ test_weather_display_no_data _________________________
tests\test_weather_widget.py:315: in test_weather_display_no_data
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
__________________ test_weather_concurrent_start_prevention ___________________
tests\test_weather_widget.py:324: in test_weather_concurrent_start_prevention
    weather = WeatherWidget(parent=parent_widget, api_key="test_key")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: WeatherWidget.__init__() got an unexpected keyword argument 'api_key'
============================== warnings summary ===============================
tests/test_integration.py::test_engine_initialization
tests/test_integration.py::test_engine_core_systems
tests/test_integration.py::test_engine_get_stats
tests/test_integration.py::test_engine_stop_without_start
tests/test_pan_scan_integration.py::test_diffuse_with_pan_scan
  F:\Programming\Apps\ShittyRandomPhotoScreenSaver\rendering\display_widget.py:804: DeprecationWarning: Function: 'QMouseEvent.pos() const' is marked as deprecated, please check the documentation for more information.
    self._initial_mouse_pos = event.pos()

tests/test_integration.py::test_engine_initialization
tests/test_integration.py::test_engine_initialization
tests/test_integration.py::test_engine_core_systems
tests/test_integration.py::test_engine_get_stats
tests/test_integration.py::test_engine_stop_without_start
tests/test_integration.py::test_engine_stop_without_start
  F:\Programming\Apps\ShittyRandomPhotoScreenSaver\rendering\display_widget.py:809: DeprecationWarning: Function: 'QMouseEvent.pos() const' is marked as deprecated, please check the documentation for more information.
    dx = event.pos().x() - self._initial_mouse_pos.x()

tests/test_integration.py::test_engine_initialization
tests/test_integration.py::test_engine_initialization
tests/test_integration.py::test_engine_core_systems
tests/test_integration.py::test_engine_get_stats
tests/test_integration.py::test_engine_stop_without_start
tests/test_integration.py::test_engine_stop_without_start
  F:\Programming\Apps\ShittyRandomPhotoScreenSaver\rendering\display_widget.py:810: DeprecationWarning: Function: 'QMouseEvent.pos() const' is marked as deprecated, please check the documentation for more information.
    dy = event.pos().y() - self._initial_mouse_pos.y()

tests/test_integration.py::test_engine_get_stats
tests/test_integration.py::test_engine_get_stats
tests/test_integration.py::test_engine_get_stats
tests/test_integration.py::test_engine_get_stats
  F:\Programming\Apps\ShittyRandomPhotoScreenSaver\rendering\display_widget.py:796: DeprecationWarning: Function: 'QMouseEvent.pos() const' is marked as deprecated, please check the documentation for more information.
    logger.info(f"Mouse clicked at ({event.pos().x()}, {event.pos().y()}), requesting exit")

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/test_block_puzzle_flip.py::test_block_puzzle_runs_and_labels - A...
FAILED tests/test_image_queue.py::test_history_tracking - TypeError: expected...
FAILED tests/test_image_queue.py::test_history_max_size - TypeError: expected...
FAILED tests/test_image_queue.py::test_is_in_recent_history - AssertionError:...
FAILED tests/test_integration.py::test_engine_rotation_timer - assert <PySide...
FAILED tests/test_pan_scan_integration.py::test_diffuse_with_pan_scan - Asser...
FAILED tests/test_pan_scan_integration.py::test_wipe_with_pan_scan - Assertio...
FAILED tests/test_pan_scan_integration.py::test_pan_scan_cleanup_between_images
FAILED tests/test_pan_scan_integration.py::test_all_transitions_with_pan_scan
FAILED tests/test_settings_dialog.py::test_settings_dialog_creation - assert ...
FAILED tests/test_slide_transition.py::test_slide_cleanup - assert <PySide6.Q...
FAILED tests/test_transitions.py::test_crossfade_easing_curves - Failed: CALL...
FAILED tests/test_weather_widget.py::test_weather_creation - TypeError: Weath...
FAILED tests/test_weather_widget.py::test_weather_no_api_key - TypeError: Wea...
FAILED tests/test_weather_widget.py::test_weather_stop - TypeError: WeatherWi...
FAILED tests/test_weather_widget.py::test_weather_signals - TypeError: Weathe...
FAILED tests/test_weather_widget.py::test_weather_display_update - TypeError:...
FAILED tests/test_weather_widget.py::test_weather_cache - TypeError: WeatherW...
FAILED tests/test_weather_widget.py::test_weather_all_positions - TypeError: ...
FAILED tests/test_weather_widget.py::test_weather_set_position - TypeError: W...
FAILED tests/test_weather_widget.py::test_weather_set_api_key - TypeError: We...
FAILED tests/test_weather_widget.py::test_weather_set_location - TypeError: W...
FAILED tests/test_weather_widget.py::test_weather_set_font_size - TypeError: ...
FAILED tests/test_weather_widget.py::test_weather_set_text_color - TypeError:...
FAILED tests/test_weather_widget.py::test_weather_cleanup - TypeError: Weathe...
FAILED tests/test_weather_widget.py::test_weather_error_handling - TypeError:...
FAILED tests/test_weather_widget.py::test_weather_error_with_cache - TypeErro...
FAILED tests/test_weather_widget.py::test_weather_fetcher_creation - TypeErro...
FAILED tests/test_weather_widget.py::test_weather_fetcher_success - Attribute...
FAILED tests/test_weather_widget.py::test_weather_fetcher_error - AttributeEr...
FAILED tests/test_weather_widget.py::test_weather_display_no_data - TypeError...
FAILED tests/test_weather_widget.py::test_weather_concurrent_start_prevention
====== 32 failed, 322 passed, 5 skipped, 21 warnings in 70.43s (0:01:10) ======
QSettings: Failed to delete key "Software\Test\FullWorkflowTest" (Illegal operation attempted on a registry key that has been marked for deletion.)
